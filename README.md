# Task Planner

Учебный проект на C#/.NET 8, реализующий консольный планировщик проектов и задач без использования базы данных. Данные сохраняются в JSON-файл, а слой инфраструктуры оформлен так, чтобы при необходимости его можно было заменить на другую реализацию (например, веб-API или БД).

## Структура решения

```
KPOHomeWork2.sln
├── src
│   ├── TaskPlanner.Domain          # Доменные сущности, value objects и исключения
│   ├── TaskPlanner.Application     # Сервисы приложения, DTO и интерфейсы репозиториев
│   ├── TaskPlanner.Infrastructure  # Реализация репозиториев и файлового хранилища
│   └── TaskPlanner.ConsoleApp      # Консольный интерфейс взаимодействия с пользователем
└── tests
    └── TaskPlanner.Tests           # Набор модульных тестов на xUnit
```

### Domain
* `Entities/Project`, `TaskItem`, `TeamMember` — инкапсулируют бизнес-правила.
* `ValueObjects/Email` — проверяет корректность адреса.
* `Exceptions/DomainException` — единое исключение для проверки инвариантов.

### Application
* `Abstractions` — контракты репозиториев.
* `Services` — высокоуровневые сценарии (управление проектами, задачами, участниками).
* `Requests` и `Dtos` — модели данных для обмена между слоями и UI.
* `Common/OperationResult` — унифицированный ответ сервисов.

### Infrastructure
* `Persistence/JsonFileContext` — потокобезопасное чтение/запись JSON.
* `Repositories` — реализации репозиториев на основе JSON-хранилища.
* `Persistence/EntityMapper` — преобразование доменных моделей в DTO для хранения.

### ConsoleApp
* CLI-меню с командами регистрации участника, создания проектов и задач, назначения исполнителей и вывода ближайших задач.
* Сохранение данных в файл `data/taskplanner.json` рядом с исполняемым файлом.

### Tests
* Проверяют создание задач, обработку ошибок при некорректных данных и правила назначения задач.
* Для каждого теста создаётся временный JSON-файл и удаляется после выполнения.

## Как запустить

```bash
# Запуск всех проектов и тестов
dotnet restore

dotnet test

dotnet run --project src/TaskPlanner.ConsoleApp
```

Первый запуск консольного приложения создаст файл `data/taskplanner.json`. Дальнейшая работа ведётся через меню. Для демонстрации работы можно:
1. Зарегистрировать участника.
2. Создать проект.
3. Привязать участника к проекту.
4. Создать и назначить задачу.
5. Просмотреть задачи на ближайшую неделю.

## Дополнительные идеи для расширения
* Реализовать веб-API на ASP.NET Core.
* Добавить авторизацию и управление ролями.
* Хранить историю изменений задач.
* Интегрировать уведомления (email/telegram) о приближении дедлайнов.
